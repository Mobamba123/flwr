<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Valentine’s Day ❤️</title>
<style>
body {
  margin:0;
  height:100vh;
  background:black;
  overflow:hidden;
  font-family: Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
}

/* Starry background */
#stars {
  position:absolute;
  width:100%;
  height:100%;
  top:0;
  left:0;
  z-index:0;
}
.star {
  position:absolute;
  background:white;
  border-radius:50%;
  width:2px;
  height:2px;
  opacity:0.8;
}

/* Card */
.card {
  width: 300px;
  height: 200px;
  background:white;
  border-radius:10px;
  display:flex;
  justify-content:center;
  align-items:center;
  color:black;
  cursor:pointer;
  perspective:1000px;
  position:relative;
  transform-style: preserve-3d;
  z-index:1;
  transition: transform 1s ease-in-out;
}
.card.open {
  transform: rotateY(180deg) scale(2);
}

/* Earth container */
#earthContainer {
  position:absolute;
  width:200px;
  height:200px;
  border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #2e8b57 40%, #3cb371 70%, #1e90ff 100%);
  top:50%;
  left:50%;
  transform: translate(-50%, -50%) scale(0);
  z-index:2;
  transition: transform 1s ease-in-out;
}

/* Plane */
#plane {
  position:absolute;
  width:40px;
  height:20px;
  background:red;
  clip-path: polygon(0% 0%, 100% 50%, 0% 100%);
  top:50%;
  left:50%;
  transform: translate(-50%, -50%) rotate(0deg);
  z-index:3;
}

/* Kangaroo */
#kangaroo {
  position:absolute;
  width:80px;
  height:100px;
  background:brown;
  clip-path: polygon(20% 100%, 50% 0%, 80% 100%);
  opacity:0;
  z-index:4;
}

/* Flower */
#flower {
  position:absolute;
  width:50px;
  height:50px;
  border-radius:50%;
  background:#ffd60a;
  top:30%;
  left:50%;
  transform: translateX(-50%) scale(0);
  z-index:5;
}

/* Petals */
.petal {
  position:absolute;
  width:20px;
  height:40px;
  background:#ff4d6d;
  border-radius:50%;
  top:50%;
  left:50%;
  transform-origin: bottom center;
  transform: scale(0) rotate(0deg);
  opacity:0;
}

/* Message */
#message {
  position:absolute;
  top:20%;
  width:100%;
  text-align:center;
  font-size:36px;
  color:#ff1493;
  opacity:0;
  z-index:6;
}
</style>
</head>
<body>

<div id="stars"></div>

<div class="card" id="card">To Summer ❤️</div>

<div id="earthContainer"></div>
<div id="plane"></div>
<div id="kangaroo"></div>
<div id="flower"></div>
<div id="message">Happy Valentine’s Day ❤️</div>

<script>
// Generate stars
const starsContainer = document.getElementById('stars');
for(let i=0;i<200;i++){
  const star = document.createElement('div');
  star.classList.add('star');
  star.style.top = Math.random()*window.innerHeight+'px';
  star.style.left = Math.random()*window.innerWidth+'px';
  star.style.width = star.style.height = Math.random()*2+1+'px';
  star.style.opacity = Math.random();
  starsContainer.appendChild(star);
}

// Card open -> show Earth
const card = document.getElementById('card');
const earth = document.getElementById('earthContainer');
const plane = document.getElementById('plane');
const kangaroo = document.getElementById('kangaroo');
const flower = document.getElementById('flower');
const message = document.getElementById('message');

card.addEventListener('click',()=>{
  card.classList.add('open');
  setTimeout(()=>{
    card.style.display='none';
    earth.style.transform='translate(-50%,-50%) scale(1)';
    animatePlane();
  },1000);
});

// Animate plane around Earth
function animatePlane(){
  let angle=0;
  const radius=120;
  const centerX=window.innerWidth/2;
  const centerY=window.innerHeight/2;
  const interval = setInterval(()=>{
    angle+=2;
    const rad = angle*Math.PI/180;
    plane.style.left = centerX + radius*Math.cos(rad) + 'px';
    plane.style.top = centerY + radius*Math.sin(rad) + 'px';
    plane.style.transform = `translate(-50%,-50%) rotate(${angle}deg)`;
    if(angle>=360){
      clearInterval(interval);
      // Plane lands
      setTimeout(showKangaroo,500);
    }
  },20);
}

// Show kangaroo + flower
function showKangaroo(){
  plane.style.display='none';
  kangaroo.style.left = (window.innerWidth/2-40)+'px';
  kangaroo.style.top = (window.innerHeight/2)+'px';
  kangaroo.style.opacity=1;
  flower.style.transform='translateX(-50%) scale(1)';
  bloomFlower();
}

// Bloom flower petal by petal
function bloomFlower(){
  const petals = [];
  for(let i=0;i<6;i++){
    const petal = document.createElement('div');
    petal.classList.add('petal');
    petal.style.transform=`rotate(${i*60}deg) scale(0)`;
    flower.appendChild(petal);
    petals.push(petal);
  }
  let idx=0;
  const bloomInterval = setInterval(()=>{
    if(idx>=petals.length){ 
      clearInterval(bloomInterval);
      message.style.opacity=1;
      return;
    }
    petals[idx].style.transition='transform 0.5s, opacity 0.5s';
    petals[idx].style.transform=`rotate(${idx*60}deg) scale(1)`;
    petals[idx].style.opacity=1;
    idx++;
  },400);
}
</script>
</body>
</html>
